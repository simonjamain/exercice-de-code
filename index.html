<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Résultats du 1er tour des élections présidentielles 2022 à Poitiers</title>
	</head>
	<body>
		<canvas id="shapesCanvas" class="resultsGraph"></canvas>
		<ul class="resultsList"></ul>
	</body>
	<script>
		async function fillResultCanvasFromOpenData() {

			// on récupère d'abord la quantité de données à obtenir
			const datasetInformationResponse = await fetch("https://data.grandpoitiers.fr/api/v2/catalog/datasets/resultats_election_fichier_eirel_definitif")
			const datasetInformation = await datasetInformationResponse.json()
			const numberOfRecords = datasetInformation.dataset.metas.default.records_count
			console.log("datasetInformation", datasetInformation)
		}
		fillResultCanvasFromOpenData()
	</script>
</html>